2006-05-10  Roman Schindlauer  <roman@kr.tuwien.ac.at>

	* include/dlvhex/Atom.h: Modified BuiltinPredicate to consist of a
	general string instead of of two terms an an operator.

	* src/dlvhex/ASPsolver.cpp (callSolver): The maxint directive for dlv
	has to prepend the program instead of being appended at the end.
	Corrected.

	* src/dlvhex/Atom.cpp (operator<): Removed arity assertion for
	comparisons of atoms with variable predicates.

	* src/dlvhex/AtomSet.cpp: Corrected predicateMatches() operator
	parameters.

	* src/dlvhex/HexParser.ypp: Modified parsing of builtin predicates to
	fit class modifications. Added parsing of #int() predicate.

	* src/dlvhex/SafetyChecker.cpp (testRules): Included variable
	predicate in body in list of safe variables.

	Fixes bug: #19, #20, #21


2006-05-09  Roman Schindlauer  <roman@kr.tuwien.ac.at>

	* include/dlvhex/Term.h: Added methods Term::registerAuxiliaryName()
	and Term::getAuxiliaryNames() as an interface for the list of
	auxiliary names.
	* src/dlvhex/Term.cpp: Likewise.

	* src/dlvhex/ExternalAtom.cpp (constructor): Adapted to call new
	Term::registerAuxiliaryName().
	* src/dlvhex/Rule.cpp (WeakConstraint constructor): Likewise.
	* src/dlvhex/dlvhex.cpp (main): Likewise.


2006-05-07  Roman Schindlauer  <roman@kr.tuwien.ac.at>

	* src/dlvhex/ASPsolver.cpp (ASPsolver::callSolver): Extended verbose
	output in case of solver failure.

	* src/dlvhex/ExternalAtom.cpp (ExternalAtom::operator==): Corrected
	equality operator.

	* src/dlvhex/dlvhex.cpp (main): Improved help output. Added command
	line switch --noeval. Added verbose output for plugin search
	locations.


2006-05-05  Roman Schindlauer  <roman@kr.tuwien.ac.at>

	* include/dlvhex/Atom.h: Made operator!= nonvirtual.

	* include/dlvhex/Error.h: Cleaned up error handling.

	* include/dlvhex/ExternalAtom.h: Introduced second operator== for
	comparison with Atom&. Two comparison functions, for Atom& and for
	ExternalAtom&, are needed.
	* src/dlvhex/Error.cpp: Likewise.

	* src/dlvhex/HexParser.ypp: Catching exceptions from propositional
	atom creation.

	* src/dlvhex/HexParserDriver.cpp: (parse): Adapted to new error
	handling.
	* src/dlvhex/dlvhex.cpp: (main): Likewise.


2006-05-04  Roman Schindlauer  <roman@kr.tuwien.ac.at>

	* include/dlvhex/Atom.h (GetArguments): Made method virtual.

	* include/dlvhex/ExternalAtom.h (GetAguments): Made method virtual.

	* src/dlvhex/ExternalAtom.cpp: Implemented operator==.

	* src/dlvhex/GraphBuilder.cpp (run): Added proper dependency handling
	of chained external atoms within one rule body.


2006-05-04  Roman Schindlauer  <roman@kr.tuwien.ac.at>

	* include/dlvhex/PluginInterface.h: Changed rewriter stream types to pointers.

	* include/dlvhex/globals.h: Added string to be passed to the ASP
	solver for adding a maxint-directive.

	* src/dlvhex/ASPsolver.cpp (callSolver): Added maxint-directive to
	the program to be solved, from a global variable set in the Hex-parser.

	* src/dlvhex/AnswerSet.cpp (moreExpensiveThan): Corrected error in
	reading weights of the specified weight-vector.

	* src/dlvhex/Atom.cpp (Constructor): Moved assertion for nonground
	predicate names to initialization of non-propositional atoms. Added
	SyntaxError in case of variable propositional atoms.

	* src/dlvhex/HexParser.ypp: Added parsing of maxint-directive.
	Admitted empty parentheses for external atoms with output arity zero.

	* src/dlvhex/dlvhex.cpp (main): Corrected handling of streams and
	rewriters.

	* src/dlvhex/globals.cpp: Added string for maxint-directive.


2006-05-03  Roman Schindlauer  <roman@kr.tuwien.ac.at>

	* include/dlvhex/AnswerSet.h: New File.

	* include/dlvhex/Makefile.am: Added AnswerSet.h.

	* include/dlvhex/OutputBuilder.h: Changed all AtomSet to AnswerSet.

	* include/dlvhex/Program.h: Added addition and retrieval for weak
	constraints.
	* src/dlvhex/Program.cpp: Likewise.

	* include/dlvhex/ResultContainer.h: Changed type of result from
	std::vector<AtomSet> to std::set<AnswerSetPtr,
	ResultContainer::AnswerSetPtrCompare>. Added comparison operator
	for AnswerSetPtrCompare. Added handling of weak constraint-
	auxiliary predicate. Added vector for optimal costs.
	* src/dlvhex/ResultContainer.cpp: Likewise.

	* include/dlvhex/Rule.h: Added class for weak constraints, derived
	from Rule.
	* src/dlvhex/Rule.cpp: Likewise.

	* src/dlvhex/AnswerSet.cpp: New file.

	* src/dlvhex/DLVresultParser.ypp: Introduced number type for
	integer handling.
	* src/dlvhex/DLVresultScanner.lpp: Likewise.

	* src/dlvhex/HexParser.ypp: Added weak constraint handling.
	Introduced number type for integer handling. Added predicate syntax
	for builtins.

	* src/dlvhex/HexScanner.lpp: Introduced number type for integer
	handling.

	* src/dlvhex/Makefile.am: Added AnswerSet.cpp.

	* src/dlvhex/OutputBuilder.cpp (buildAnswerSet): Added weight
	output for answer set costs.

	* src/dlvhex/ParserDriver.cpp: Corrected bug of wrong line output
	in case of syntax errors.

	* src/dlvhex/Term.cpp (operator!=) Corrected bug in handling
	NULLCONST.

	* src/dlvhex/dlvhex.cpp (main): Reactivated dlt preparsing. Added
	support for weak constraints.

	Fixes bug: #9, #10, #11
	

2006-05-02  Roman Schindlauer  <roman@kr.tuwien.ac.at>

	* include/dlvhex/PluginInterface.h (setOptions): Modified argument type.

	* src/dlvhex/AtomSet.cpp (operator<) Corrected semantics of AtomSet
	comparison.

	* src/dlvhex/GuessCheckModelGenerator.cpp (compute): Corrected bug in
	creation of guessing rules - replacement atoms for external atoms were
	created without input arguments.

	* src/dlvhex/dlvhex.cpp (main): Updated option handling, passing
	unparsed options to plugins and aborting, if any options are left
	after plugins. Commented out dlt-preparsing. Activated
	plugin-rewriters.

	* src/testsuite/dlvhex/TestGraphProcessor.cpp (testSimple): Removed
	debug output.

	* src/testsuite/dlvhex/TypeTest.cpp (testConstruction): Added test
	for set of AtomSet comparison.


2006-04-25  Roman Schindlauer  <roman@kr.tuwien.ac.at>

	* Makefile.am: Added doxygen stuff to EXTRA_DIST files.

	* README: Added.

	* ChangeLog: Added.

	* configure.ac: Removed bison/flex checks, commented back in boost-header
	checks.

	* examples/Makefile.am: Removed shop.owl (needs other plugins, not
	useful as pure dlvhex-example).

	* src/dlvhex/Makefile.am: Reformat. Added bison output files to
	EXTRA_DIST.

	* src/dlvhex/ASPsolver.cpp (callSolver): Corrected debug-output.

	* src/dlvhex/AtomFactory.cpp (reset): Added reset() to clear factory.
	* include/dlvhex/AtomFactory.h: Likewise.

	* src/dlvhex/AtomSet.cpp (multiplySets): Added check for minimality.

	* src/dlvhex/Literal.cpp (operator=): Added assignment operator.
	* include/dlvhex/Literal.h: Likewise.

	* src/dlvhex/dlvhex.cpp (main): Prepared integration of
	plugin-rewriters.

	* include/dlvhex/Makefile.am: Added missing header files.

	* include/dlvhex/BoostComponentFinder.h: Removed superficial
	header-includes.

	* include/dlvhex/ComponentFinder.h: Added (empty) virtual Destructor.

	* include/dlvhex/DLVresultFlexLexer.h: Removed.

	* include/dlvhex/AtomSet.h: Added operator< for comparison of sets of AtomSets (does
	not work yet).

	* src/testsuite/dlvhex/ASPsolverTest.cpp (tearDown): Added reset of
	AtomFactory after each test in order to avoid conflicting atoms.

	* src/testsuite/dlvhex/TestGraphProcessor.cpp: Added.

	* src/testsuite/dlvhex/Makefile.am: Added dlvhex-sources necessary for
	the new TestGraphProcessor class.

	* include/testsuite/dlvhex/Makefile.am: Added TestGraphProcessor.h

