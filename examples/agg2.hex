% testA returns "foo" if the extension of its input predicate is empty
% testA returns "bar" if the extension of its input predicate has one member

c(1).
pred(c).
pred(d).

% there is a bug in the dependency graph:
% the num_in/1 rule will be evaluated in wrong component
%in(X) :- &testA[P](X), pred(P).

in(X) :- &testA[c](X).
in(X) :- &testA[d](X).

num_in(N) :- #count{ X : in(X) } = N.