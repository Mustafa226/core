Concept for referencing Entities in dlvhex:

Entities are:
* Atoms (ordinary, builtin, aggregate, external)
* Literals
* Terms (integers, constants, strings, variables)
* Rules (regular rules, constraints, weak constraints)

Entities are stored in Tables and referenced by IDs.
IDs consist of a type part and a table index part.

An ID of any Entity allows to infer the type of entity (i.e., in which table it is stored).

ID Concept:
* 64 bit unsigned integer ID = 32 bit unsigned "type" integer + 32 bit unsigned "address" integer
* address integer = index into container where entity is registered
* type bits specify maintype, subtype, and properties of entity

Type integer concept:
* 4 bits "Maintype" (currently only 2 used)
  mask 0xF0000000
* 4 bits "Subtype"
  mask 0x0F000000
* 8 bits "Properties"
  mask 0x00FF0000
* 16 bits unused
  mask 0x0000FFFF

Maintypes:
* 0x0 Atom
  Subtypes:
    * 0x0 Ordinary Atom
      Properties:
        mask 0x1: ground (0) vs nonground (1)
          0: Address points into OrdinaryGroundAtom-Table
          1: Address points into OrdinaryNongroundAtom-Table
        mask 0x2: positive (0) vs strongly negated (1)
        mask 0x4: user-defined (0) vs dlvhex-defined (1) (e.g., "ex... predicates")
    * 0x1 Builtin Atom
      Address points into BuiltinAtom-Table
    * 0x2 Aggregate Atom
      Address points into AggregateAtom-Table
    * 0x3 External Atom
      Address points into ExternalAtom-Table

* 0x1 Term
  Subtypes:
    * 0x0 Symbol (=Constant)
      Address points into SymbolTerm-Table
    * 0x2 Quoted String
      Address points into StringTerm-Table (namespaces are stored in a collapsed way)
    * 0x1 Integer
      Address = Value of Integer, no Table
    * 0x3 Variable
      Address points into Variable-Table (anonymous variables are marked and expanded to real variables)
      Properties:
        mask 0x1: non-anonymous (0) vs anonymous (1)

* 0x2 Literal
  Subtypes: none
  Properties:
    mask 0x1: positive (0) vs negation as failure (1)
  Address points into Atom-Table!

* 0x3 Rule
  Subtypes:
    * 0x0 regular rule
      Properties:
        mask 0x10: non-disjunctive (0) vs disjunctive (1)
        mask 0x20: non-fact (0) vs fact (1)
    * 0x1 constraint
    * 0x2 weak constraint
  Properties for all subtypes:
    mask 0x01: ground (0) vs nonground (1)
    mask 0x02: first order (0) vs higher order (1)
    mask 0x04: no aggregates atoms (0) vs contains aggregate atoms (1)
    mask 0x08: no external atoms (0) vs contains external atoms (1)
